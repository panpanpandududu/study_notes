# 数组

## 数组去重

传统方法一：**利用indexOf（），定义一个新数组new_arr，判断新数组里面是否包含数组arr中的元素，若无，则添加。最后返回一个新数组**。

```js
var arr=[1,2,3,4,5,5,3];
//声明一个数组去重的方法unique
function unique(arr){
    var res=[];
    for(var i=0;i<arr.length;i++){
        var item=arr[i];
        if(res.indexOf(item)==-1) res.push(item);
    }
    return res;
}
unique(arr);
console.log(unique(arr));//[1, 2, 3, 4, 5]

//原型链方法
var arr=[1,2,3,4,5,5,3];
Array.prototype.uniques=function(item){
    var res = []
    for(let i=0;i<this.length;i++){
        if(res.indexOf(item)==-1) res.push(item);
    }
    return res;
}
arr.uniques();
console.log(arr.uniques());


```

方法二：**includes与reduce结合**

```js
const ab = arr => arr.reduce((a, c) => {
    !a.includes(c) && a.push(c);
    return a;
}, []);
//简写
const s = arr => arr.reduce((a, c) => a.includes(c) ? a : a.concat(c));
```

方法三：**es6的Set方法**

```js
var obj = new Set(arr);
console.log(obj);
```

方法四：Map()

```js
const c = arr => {
    const map = new Map();
    return arr.filter(v => map.has(v) ? false : map.set(v));
};
```

### 数组插入

```js
var arr = [1, 2, 3, 3];
console.log(arr.push(9));
Array.prototype.insert = function(item, index){
    // let start=this.slice(0,index);
    // let end=this.slice(index,this.length);
    let start = this.filter((v, i) => i < index);
    let end = this.filter((v, i) => i >= index);
    return [...start, item, ...end];
};
var b = arr.insert(4, 2);
console.log('this b', b);
```

